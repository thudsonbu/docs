
import { GuideRecipeLink } from "/src/components/guides/GuideRecipeLink"

The command creates a sample Next.js app with authentication configured to work with SuperTokens.
Bellow, we go through the main files that you will need to copy/update based on your setup.

##### `/config`

- `appInfo.ts` 
Includes information about your application. The information configured works for the demo app, but you will likely want to change it based on your setup. You can learn more about this config <GuideRecipeLink link="appinfo">here</GuideRecipeLink>.

- `backend.ts`
Exports a function that provides configuration instructions for the **SuperTokens Backend SDK**.
Besides the `appInfo` that is imported from the previous file, there are a couple of additional things that get configured here:
  - How the app will connect to the **SuperTokens Core Service**. The value is set to `https://try.supertokens.com`. This is a demo server we host so you can get started quickly. Later on in the guide, we will spin up a dedicated managed or self hosted core service, and, based on that, we will updated the URL. 
  - What **recipes** get initialised. Think of recipes as modules or features you enable. The list of recipes that are enabled here will affect which APIs are exposed via the **Backend SDK** middleware. Based on your use case, you may have to modify the parameters values provided to the recipes. We will go into detail about each recipe in the next sections. 

- `frontend.tsx`
You can copy and paste this file directly into your existing project without any additional changes. It uses the config values that you defined in the `appInfo.ts` file as well as the authentication
recipes that you have selected.

##### `/api/auth`

This folder includes a file that sets up the authentication endpoints. You can copy it into your existing project without any additional changes.

##### `/api/user`

In here you will find an example of how to expose session related data through an endpoint.

You can notice that each api function makes use of `ensureSuperTokensInit`. This way you can make sure that you are initializing the **SuperTokens Backend SDK** per API call. This is needed since your Next backend may be running in a serverless function, so each API invocation will have to init the **Backend SDK**.      

##### `/auth`

This folder includes a file that will add the authentication routes for the web client. You can copy and paste this file directly into your existing project without any additional changes.
It will include the prebuilt UI components based on the configuration that was set in the `frontend.tsx` file.

##### `layout.tsx`

Here is where you add the `SuperTokensProvider` component over your existing layout. This way we provide the authentication context to all the pages in your app.
The component is defined in the `/components/supertokensProvider.tsx` file. It initializes the **SuperTokens React SDK** and exports the component.

